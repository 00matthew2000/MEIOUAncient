abandon_subject = { 
	category = influence
	alert_index = 43
	alert_tooltip = ICON_SUBJUGATION
	require_acceptance = no
	is_visible = { 
		FROM = { 
			is_subject_of = ROOT
			OR = { 
				is_subject_of_type = custom_vassal
				AND = { 
					is_subject_of_type = daimyo_vassal
					NOT = { 
						OR = { 
							ROOT = { 
								culture_group = japanese_g
							}
							tag = FRA
						}
					}
				}
				is_subject_of_type = march
				is_subject_of_type = rebellious_decentralized_vassal
				is_subject_of_type = warlord
			}
		}
	}
	is_allowed = { 
		FROM = { 
			liberty_desire = 60
		}
		is_at_war = no
	}
	on_accept = { 
		FROM = { 
			grant_independence = yes
			add_opinion = { 
				who = ROOT
				modifier = released_subject
			}
			reverse_add_opinion = { 
				who = ROOT
				modifier = released_subject
			}
		}
		add_truce_with = FROM
		FROM = { 
			add_truce_with = PREV
		}
		add_prestige = -10
	}
	on_decline = { }
	ai_acceptance = { }
	ai_will_do = { 
		always = no
	}
}
call_subject_to_war = { 
	category = influence
	alert_index = 10
	alert_tooltip = call_subject_to_war_alert_tooltip
	require_acceptance = yes
	is_visible = { 
		FROM = { 
			is_subject_of = ROOT
			OR = { 
				is_subject_of_type = appanage_subject
				is_subject_of_type = daimyo_vassal
			}
		}
	}
	is_allowed = { 
		FROM = { 
			is_subject_of = ROOT
			OR = { 
				is_subject_of_type = appanage_subject
				is_subject_of_type = daimyo_vassal
			}
			NOT = { 
				liberty_desire = 50
			}
		}
		custom_trigger_tooltip = { 
			tooltip = CALL_TO_WAR_REQUIREMENT_NOT_IN_WAR_TOGETHER
			OR = { 
				AND = { 
					is_at_war = yes
					is_in_war = { 
						attacker_leader = ROOT
					}
					any_country = { 
						is_in_war = { 
							attacker_leader = ROOT
							defender_leader = THIS
						}
						NOT = { 
							is_in_war = { 
								defender_leader = THIS
								participants = FROM
							}
						}
					}
				}
				AND = { 
					is_at_war = yes
					is_in_war = { 
						defender_leader = ROOT
					}
					any_country = { 
						is_in_war = { 
							attacker_leader = THIS
							defender_leader = ROOT
						}
						NOT = { 
							is_in_war = { 
								defender_leader = FROM
								participants = THIS
							}
						}
					}
				}
			}
		}
	}
	on_accept = { 
		if = { 
			limit = { 
				is_at_war = yes
				is_in_war = { 
					attacker_leader = ROOT
				}
				any_country = { 
					is_in_war = { 
						attacker_leader = ROOT
						defender_leader = THIS
					}
					NOT = { 
						is_in_war = { 
							defender_leader = THIS
							participants = FROM
						}
					}
				}
			}
			FROM = { 
				join_all_offensive_wars_of = ROOT
				if = { 
					limit = { 
						OR = { 
							is_subject_of_type = appanage_subject
							is_subject_of_type = daimyo_vassal
						}
					}
					add_opinion = { 
						who = ROOT
						modifier = called_subject_to_war_offense
					}
					add_liberty_desire = 5
				}
			}
		}
		if = { 
			limit = { 
				is_at_war = yes
				is_in_war = { 
					defender_leader = ROOT
				}
				any_country = { 
					is_in_war = { 
						attacker_leader = THIS
						defender_leader = ROOT
					}
					NOT = { 
						is_in_war = { 
							defender_leader = FROM
							participants = THIS
						}
					}
				}
			}
			FROM = { 
				join_all_defensive_wars_of = ROOT
				if = { 
					limit = { 
						OR = { 
							is_subject_of_type = appanage_subject
							is_subject_of_type = daimyo_vassal
						}
					}
					add_opinion = { 
						who = ROOT
						modifier = called_subject_to_war_defense
					}
					add_liberty_desire = 2.5
				}
			}
		}
	}
	on_decline = { 
		add_opinion = { 
			who = FROM
			modifier = refused_call_to_arms_subject
		}
		add_prestige = -5
	}
	ai_acceptance = { 
		add_entry = { 
			name = BASE_AI_ACCEPTANCE
			limit = { 
				FROM = { 
					OR = { 
						is_subject_of_type = appanage_subject
						is_subject_of_type = daimyo_vassal
					}
				}
			}
			export_to_variable = { 
				variable_name = ai_value
				value = -20
			}
		}
		add_entry = { 
			name = THEIR_OPINION_OF_US
			export_to_variable = { 
				variable_name = ai_value
				value = opinion
				who = FROM
				with = ROOT
			}
			divide_variable = { 
				which = ai_value
				value = 4
			}
		}
		add_entry = { 
			name = BORDERDISTANCE_TT
			export_to_variable = { 
				variable_name = ai_value
				value = border_distance
				who = FROM
				with = ROOT
			}
			divide_variable = { 
				which = ai_value
				value = -12
			}
		}
		add_entry = { 
			name = MYDIPLOREP_TT
			export_to_variable = { 
				variable_name = ai_value
				value = modifier:diplomatic_reputation
			}
			multiply_variable = { 
				which = ai_value
				value = 2
			}
		}
		add_entry = { 
			name = MYDIPLOREP_TT
			export_to_variable = { 
				variable_name = ai_value
				value = prestige
			}
			multiply_variable = { 
				which = ai_value
				value = 0.2
			}
		}
		add_entry = { 
			name = THEIR_MP_PERCENTAGE
			export_to_variable = { 
				variable_name = ai_value
				value = trigger_value:manpower_percentage
			}
			multiply_variable = { 
				which = ai_value
				value = 100
			}
			subtract_variable = { 
				which = ai_value
				value = 50
			}
			divide_variable = { 
				which = ai_value
				value = 3
			}
		}
		add_entry = { 
			name = THEIR_WAR_EXHAUSTION
			export_to_variable = { 
				variable_name = ai_value
				value = war_exhaustion
			}
			divide_variable = { 
				which = ai_value
				value = -1.0
			}
		}
		add_entry = { 
			name = THEIR_LIBERTY_DESIRE
			export_to_variable = { 
				variable_name = ai_value
				value = trigger_value:liberty_desire
				who = FROM
			}
			divide_variable = { 
				which = ai_value
				value = -2.5
			}
		}
		add_entry = { 
			name = THEIR_REBELS
			limit = { 
				OR = { 
					num_of_rebel_armies = 1
					num_of_rebel_controlled_provinces = 1
				}
			}
			export_to_variable = { 
				variable_name = ai_value
				value = -10
			}
		}
		add_entry = { 
			name = OFFENSIVE_WAR_SUBJECT_CALL
			limit = { 
				is_at_war = yes
				is_in_war = { 
					attacker_leader = ROOT
				}
				any_country = { 
					is_in_war = { 
						attacker_leader = ROOT
						defender_leader = THIS
					}
					NOT = { 
						is_in_war = { 
							defender_leader = THIS
							participants = FROM
						}
					}
				}
			}
			export_to_variable = { 
				variable_name = ai_value
				value = -10
			}
		}
		add_entry = { 
			name = DEFENSIVE_WAR_SUBJECT_CALL
			limit = { 
				is_at_war = yes
				is_in_war = { 
					defender_leader = ROOT
				}
				any_country = { 
					is_in_war = { 
						attacker_leader = THIS
						defender_leader = ROOT
					}
					NOT = { 
						is_in_war = { 
							defender_leader = FROM
							participants = THIS
						}
					}
				}
			}
			export_to_variable = { 
				variable_name = ai_value
				value = 10
			}
		}
	}
	ai_will_do = { 
		always = no
	}
}
