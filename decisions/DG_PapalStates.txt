country_decisions = { 
	make_donation_of_constantine = { 
		potential = { 
			religion = catholic
			OR = { 
				AND = { 
					is_papal_controller = yes
					NOT = { 
						has_country_flag = support_antipope
					}
				}
				AND = { 
					NOT = { 
						exists = PAP
					}
					NOT = { 
						AVI = { 
							has_reform = Pol_Mediumship4
							religion = catholic
							num_of_cities = 1
						}
					}
				}
			}
			OR = { 
				num_of_cities = 15
				AND = { 
					tag = PA2
					NOT = { 
						has_reform = Pol_Mediumship4
					}
					ai = yes
					NOT = { 
						exists = PAP
					}
				}
			}
			OR = { 
				NOT = { 
					exists = PAP
				}
				capital_distance = { 
					who = PAP
					distance = 200
				}
			}
			NOT = { 
				PAP = { 
					num_of_cities = 5
				}
			}
			NOT = { 
				2530 = { 
					has_province_modifier = independent_vatican
				}
			}
			OR = { 
				NOT = { 
					exists = PAP
				}
				PAP = { 
					AND = { 
						OR = { 
							is_subject = no
							is_subject_of_type = tributary_state
							is_subject_of_type = close_tributary_state
						}
					}
					NOT = { 
						num_of_subjects = 1
					}
				}
				overlord_of = PAP
			}
			NOT = { 
				has_country_flag = donated_land_to_pope
			}
			NOT = { 
				tag = PAP
			}
			NOT = { 
				has_reform = Pol_Mediumship4
			}
			PAP = { 
				NOT = { 
					any_owned_province = { 
						has_province_flag = constantine_donation_pf
					}
				}
			}
			AND = { 
				OR = { 
					is_subject = no
					is_subject_of_type = tributary_state
					is_subject_of_type = close_tributary_state
				}
			}
		}
		allow = { 
			OR = { 
				is_papal_controller = yes
				AND = { 
					NOT = { 
						exists = PAP
					}
					num_of_cardinals = 3
				}
				tag = PA2
			}
			is_at_war = no
			custom_trigger_tooltip = { 
				tooltip = Corrupt_Pope
				OR = { 
					PAP = { 
						has_country_flag = Corrupt_Pope
					}
					overlord_of = PAP
					NOT = { 
						exists = PAP
					}
				}
			}
			OR = { 
				PAP = { 
					capital_scope = { 
						has_siege = yes
					}
				}
				PAP = { 
					capital_scope = { 
						NOT = { 
							controlled_by = PAP
						}
					}
				}
				PAP = { 
					NOT = { 
						num_of_cities = 3
					}
				}
			}
			papal_influence = 5
		}
		effect = { 
			custom_tooltip = donate_province_to_papacy
			add_papal_influence = -40
			hidden_effect = { 
				set_country_flag = donated_land_to_pope
			}
			hidden_effect = { 
				every_owned_province = { 
					set_variable = { 
						which = papal_suitability
						value = 2
					}
				}
				every_owned_province = { 
					limit = { 
						NOT = { 
							any_neighbor_province = { 
								NOT = { 
									owned_by = ROOT
								}
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = 1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							NOT = { 
								owned_by = ROOT
							}
							owner = { 
								NOT = { 
									alliance_with = ROOT
								}
							}
							owner = { 
								NOT = { 
									is_subject_of = ROOT
								}
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							NOT = { 
								owned_by = ROOT
							}
							owner = { 
								is_rival = ROOT
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							NOT = { 
								owned_by = ROOT
							}
							owner = { 
								NOT = { 
									religion = catholic
								}
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							NOT = { 
								owned_by = ROOT
							}
							owner = { 
								NOT = { 
									religion_group = christian
								}
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							NOT = { 
								religion = catholic
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							NOT = { 
								religion_group = christian
							}
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							owned_by = ROOT
						}
					}
					change_variable = { 
						which = papal_suitability
						value = 3
					}
				}
				every_owned_province = { 
					limit = { 
						has_province_flag = catholic_archbishopric
					}
					change_variable = { 
						which = papal_suitability
						value = 1
					}
				}
				every_owned_province = { 
					limit = { 
						culture_group = ROOT
					}
					change_variable = { 
						which = papal_suitability
						value = 1
					}
				}
				every_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							owned_by = ROOT
							is_capital = yes
						}
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						has_port = yes
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						base_tax = 7
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						base_tax = 14
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						trade_goods = gold
					}
					change_variable = { 
						which = papal_suitability
						value = -1
					}
				}
				every_owned_province = { 
					limit = { 
						OR = { 
							is_colony = yes
							NOT = { 
								religion = catholic
							}
							NOT = { 
								continent = europe
							}
							is_capital = yes
							NOT = { 
								is_core = owner
							}
							NOT = { 
								OR = { 
									has_building = urban_infrastructure_2
									custom_trigger_tooltip = { 
										tooltip = hasbuildingorbetter_tooltip
										OR = { 
											has_building = urban_infrastructure_3
											has_building = urban_infrastructure_4
											has_building = urban_infrastructure_5
											has_building = urban_infrastructure_6
										}
									}
								}
							}
						}
					}
					set_variable = { 
						which = papal_suitability
						value = 0
					}
				}
				random_owned_province = { 
					limit = { 
						owner = { 
							NOT = { 
								check_variable = { 
									which = provinces_selected
									value = 3
								}
							}
						}
						check_variable = { 
							which = papal_suitability
							value = 6
						}
						NOT = { 
							has_province_flag = behind_door_number_1
						}
						NOT = { 
							has_province_flag = behind_door_number_2
						}
						NOT = { 
							has_province_flag = behind_door_number_3
						}
					}
					if = { 
						limit = { 
							owner = { 
								NOT = { 
									check_variable = { 
										which = provinces_selected
										value = 1
									}
								}
							}
						}
						set_province_flag = behind_door_number_1
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 1
								}
							}
						}
						set_province_flag = behind_door_number_2
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 2
								}
							}
						}
						set_province_flag = behind_door_number_3
					}
					owner = { 
						change_variable = { 
							which = provinces_selected
							value = 1
						}
					}
				}
				random_owned_province = { 
					limit = { 
						owner = { 
							NOT = { 
								check_variable = { 
									which = provinces_selected
									value = 3
								}
							}
						}
						check_variable = { 
							which = papal_suitability
							value = 5
						}
						NOT = { 
							has_province_flag = behind_door_number_1
						}
						NOT = { 
							has_province_flag = behind_door_number_2
						}
						NOT = { 
							has_province_flag = behind_door_number_3
						}
					}
					if = { 
						limit = { 
							owner = { 
								NOT = { 
									check_variable = { 
										which = provinces_selected
										value = 1
									}
								}
							}
						}
						set_province_flag = behind_door_number_1
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 1
								}
							}
						}
						set_province_flag = behind_door_number_2
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 2
								}
							}
						}
						set_province_flag = behind_door_number_3
					}
					owner = { 
						change_variable = { 
							which = provinces_selected
							value = 1
						}
					}
				}
				random_owned_province = { 
					limit = { 
						owner = { 
							NOT = { 
								check_variable = { 
									which = provinces_selected
									value = 3
								}
							}
						}
						check_variable = { 
							which = papal_suitability
							value = 4
						}
						NOT = { 
							has_province_flag = behind_door_number_1
						}
						NOT = { 
							has_province_flag = behind_door_number_2
						}
						NOT = { 
							has_province_flag = behind_door_number_3
						}
					}
					if = { 
						limit = { 
							owner = { 
								NOT = { 
									check_variable = { 
										which = provinces_selected
										value = 1
									}
								}
							}
						}
						set_province_flag = behind_door_number_1
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 1
								}
							}
						}
						set_province_flag = behind_door_number_2
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 2
								}
							}
						}
						set_province_flag = behind_door_number_3
					}
					owner = { 
						change_variable = { 
							which = provinces_selected
							value = 1
						}
					}
				}
				random_owned_province = { 
					limit = { 
						owner = { 
							NOT = { 
								check_variable = { 
									which = provinces_selected
									value = 3
								}
							}
						}
						check_variable = { 
							which = papal_suitability
							value = 3
						}
						NOT = { 
							has_province_flag = behind_door_number_1
						}
						NOT = { 
							has_province_flag = behind_door_number_2
						}
						NOT = { 
							has_province_flag = behind_door_number_3
						}
					}
					if = { 
						limit = { 
							owner = { 
								NOT = { 
									check_variable = { 
										which = provinces_selected
										value = 1
									}
								}
							}
						}
						set_province_flag = behind_door_number_1
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 1
								}
							}
						}
						set_province_flag = behind_door_number_2
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 2
								}
							}
						}
						set_province_flag = behind_door_number_3
					}
					owner = { 
						change_variable = { 
							which = provinces_selected
							value = 1
						}
					}
				}
				random_owned_province = { 
					limit = { 
						owner = { 
							NOT = { 
								check_variable = { 
									which = provinces_selected
									value = 3
								}
							}
						}
						check_variable = { 
							which = papal_suitability
							value = 2
						}
						NOT = { 
							has_province_flag = behind_door_number_1
						}
						NOT = { 
							has_province_flag = behind_door_number_2
						}
						NOT = { 
							has_province_flag = behind_door_number_3
						}
					}
					if = { 
						limit = { 
							owner = { 
								NOT = { 
									check_variable = { 
										which = provinces_selected
										value = 1
									}
								}
							}
						}
						set_province_flag = behind_door_number_1
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 1
								}
							}
						}
						set_province_flag = behind_door_number_2
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 2
								}
							}
						}
						set_province_flag = behind_door_number_3
					}
					owner = { 
						change_variable = { 
							which = provinces_selected
							value = 1
						}
					}
				}
				random_owned_province = { 
					limit = { 
						owner = { 
							NOT = { 
								check_variable = { 
									which = provinces_selected
									value = 3
								}
							}
						}
						check_variable = { 
							which = papal_suitability
							value = 1
						}
						NOT = { 
							has_province_flag = behind_door_number_1
						}
						NOT = { 
							has_province_flag = behind_door_number_2
						}
						NOT = { 
							has_province_flag = behind_door_number_3
						}
					}
					if = { 
						limit = { 
							owner = { 
								NOT = { 
									check_variable = { 
										which = provinces_selected
										value = 1
									}
								}
							}
						}
						set_province_flag = behind_door_number_1
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 1
								}
							}
						}
						set_province_flag = behind_door_number_2
					}
					if = { 
						limit = { 
							owner = { 
								is_variable_equal = { 
									which = provinces_selected
									value = 2
								}
							}
						}
						set_province_flag = behind_door_number_3
					}
					owner = { 
						change_variable = { 
							which = provinces_selected
							value = 1
						}
					}
				}
				every_owned_province = { 
					set_variable = { 
						which = papal_suitability
						value = 0
					}
				}
				set_variable = { 
					which = provinces_selected
					value = 0
				}
			}
			country_event = { 
				id = dg_papacy.031
				days = 0
			}
		}
		ai_will_do = { 
			factor = 1
			modifier = { 
				NOT = { 
					num_of_cities = 25
				}
				any_neighbor_country = { 
					num_of_cities = ROOT
				}
				factor = 0
			}
		}
	}
	end_babylonian_captivity = { 
		potential = { 
			tag = PAP
			owns = 2530
			capital_scope = { 
				province_id = 202
			}
			NOT = { 
				has_global_flag = DG_Babylonian_Captivity_Ends
			}
			OR = { 
				ai = no
				had_global_flag = { 
					flag = meiou_and_taxes_mod_start
					days = 7300
				}
			}
		}
		allow = { 
			is_at_war = no
			NOT = { 
				war_exhaustion = 5
			}
			adm_power = 200
			AND = { 
				check_variable = { 
					which = ati
					value = 10
				}
			}
			stability = 2
		}
		effect = { 
			add_adm_power = -150
			hidden_effect = { 
				clr_country_flag = changed_capital_by_event
				set_country_flag = changed_capital_by_event
			}
			set_capital = 2530
			clr_country_flag = French_Curia
			set_global_flag = DG_Babylonian_Captivity_Ends
			set_ruler_flag = Captivity_Ending_Pope
			set_country_flag = Divided_Conclave
			restore_country_name = yes
			log = "DG:[GetYear]: End of the Babylonian Captivity"
			add_war_exhaustion = 2
			add_manpower = -2
			add_devotion = -5
			add_mil_power = -50
			random_country = { 
				limit = { 
					has_country_flag = papal_captor
				}
				clr_country_flag = papal_captor
			}
			log = "DG:[GetYear]: : :Move Back to Rome: : "
		}
		ai_will_do = { 
			factor = 1
		}
		ai_importance = 400
	}
	reconquer_papal_states_other = { 
		potential = { 
			PA2 = { 
				is_subject_of = ROOT
				num_of_cities = 1
				ai = yes
				is_at_war = no
			}
			NOT = { 
				tag = PAP
			}
		}
		allow = { 
			is_at_war = no
			NOT = { 
				war_exhaustion = 5
			}
			manpower_percentage = 0.20
			mil_power = 50
			stability = 2
			MIL = 3
			custom_trigger_tooltip = { 
				tooltip = papal_reconquest_time
				NOT = { 
					has_ruler_flag = papal_reconquest
				}
			}
		}
		effect = { 
			add_war_exhaustion = 2
			add_manpower = -2
			add_devotion = -5
			add_legitimacy = -5
			add_republican_tradition = -5
			add_mil_power = -50
			PA2 = { 
				add_liberty_desire = 25
				random_owned_province = { 
					limit = { 
						any_neighbor_province = { 
							owned_by = ROOT
						}
					}
					save_global_event_target_as = province_to_be_ceded
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_saved_event_target = province_to_be_ceded
					}
				}
				PA2 = { 
					random_owned_province = { 
						save_global_event_target_as = province_to_be_ceded
					}
				}
			}
			if = { 
				limit = { 
					NOT = { 
						exists = PAP
					}
				}
				PAP = { 
					clr_country_flag = POP_Init
				}
			}
			event_target:province_to_be_ceded = { 
				cede_province = ROOT
				if = { 
					limit = { 
						is_core = PA2
					}
					remove_core = PA2
					if = { 
						limit = { 
							is_core = ROOT
						}
						add_local_autonomy = 50
					}
					else = { 
						add_core_construction = { 
							cost = 1
							speed = 0.75
						}
						add_local_autonomy = 100
					}
				}
				else = { 
					add_local_autonomy = 100
				}
			}
			random_country = { 
				limit = { 
					has_country_flag = papal_captor
				}
				clr_country_flag = papal_captor
			}
			clear_global_event_target = province_to_be_ceded
			set_ruler_flag = papal_reconquest
		}
		ai_will_do = { 
			factor = 1
		}
	}
	secularize_order = { 
		potential = { 
			tag = KNI
			AND = { 
				government = theocracy
				has_reform = Pol_Organisation2
			}
			religion = catholic
			is_religion_enabled = protestant
		}
		allow = { 
			OR = { 
				adm_tech = 30
				religion = protestant
				religion = reformed
				religion = hussite
				religion = lollard
				religion = waldensian
			}
			stability = 0
			adm_power = 200
			is_at_war = no
		}
		effect = { 
			add_adm_power = -200
			change_government = monarchy
			if = { 
				limit = { 
					adm_tech = 45
				}
				add_government_reform = Pol_Succession4
				add_government_reform = Pol_Privileges1
			}
			else = { 
				add_government_reform = Pol_Succession1
				add_government_reform = Pol_NominalEmpire
			}
			add_government_reform = Pol_Assembly1
			add_government_reform = Pol_Nobility1
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbg
							value = 2
						}
					}
					NOT = { 
						AND = { 
							check_variable = { 
								which = bbk
								value = 0
							}
						}
					}
					AND = { 
						check_variable = { 
							which = bbq
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbw
							value = 1
						}
					}
					AND = { 
						check_variable = { 
							which = bby
							value = 1
						}
					}
					AND = { 
						check_variable = { 
							which = bca
							value = 1
						}
					}
				}
				add_government_reform = Pol_Structure5
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbu
							value = 1
						}
					}
				}
				add_government_reform = Pol_Structure4
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbu
							value = 1
						}
					}
				}
				add_government_reform = Pol_Structure3
			}
			else = { 
				add_government_reform = Pol_Structure2
			}
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 1
						}
					}
					AND = { 
						check_variable = { 
							which = bbc
							value = 1
						}
					}
					NOT = { 
						AND = { 
							check_variable = { 
								which = bbk
								value = 1
							}
						}
					}
					AND = { 
						check_variable = { 
							which = bbq
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbu
							value = 2
						}
					}
				}
				add_government_reform = Pol_Centralisation5
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbc
							value = 0
						}
					}
					NOT = { 
						AND = { 
							check_variable = { 
								which = bbk
								value = 4
							}
						}
					}
					AND = { 
						check_variable = { 
							which = bbq
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbu
							value = 1
						}
					}
				}
				add_government_reform = Pol_Centralisation4
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbu
							value = 1
						}
					}
				}
				add_government_reform = Pol_Centralisation3
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
				}
				add_government_reform = Pol_Centralisation2
			}
			else = { 
				add_government_reform = Pol_Centralisation1
			}
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bba
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bbu
							value = 1
						}
					}
				}
				add_government_reform = Pol_Autonomy2
			}
			else = { 
				add_government_reform = Pol_Autonomy1
			}
			add_government_reform = Pol_Provincial1
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bbg
							value = 2
						}
					}
					AND = { 
						check_variable = { 
							which = bca
							value = 2
						}
					}
				}
				add_government_reform = Pol_Military4
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bbg
							value = 1
						}
					}
					AND = { 
						check_variable = { 
							which = bca
							value = 2
						}
					}
				}
				add_government_reform = Pol_Military3
			}
			else_if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = bbg
							value = 0
						}
					}
					AND = { 
						check_variable = { 
							which = bca
							value = 1
						}
					}
				}
				add_government_reform = Pol_Military2
			}
			else = { 
				add_government_reform = Pol_Military1
			}
			if = { 
				limit = { 
					religion = catholic
					exists = PAP
				}
				PAP = { 
					add_opinion = { 
						who = ROOT
						modifier = opinion_displeased
					}
				}
			}
			if = { 
				limit = { 
					NOT = { 
						exists = RHO
					}
				}
				change_tag = RHO
				hidden_effect = { 
					set_variable = { 
						which = pzs
						which = aaa
					}
					every_province = { 
						limit = { 
							AND = { 
								OR = { 
									is_city = yes
									is_colony = yes
								}
								NOT = { 
									province_id = 5154
								}
							}
						}
						clr_province_flag = TradePost@PREV
					}
					country_event = { 
						id = POP_StartInit.012
					}
					country_event = { 
						id = SYS_Post.002
					}
				}
				add_absolutism = 10
				if = { 
					limit = { 
						NOT = { 
							owns = 320
						}
					}
					if = { 
						limit = { 
							owns = 126
						}
						override_country_name = RHO_Malta
					}
					else_if = { 
						limit = { 
							OR = { 
								owns = 163
								owns = 2749
							}
						}
						override_country_name = RHO_Crete
					}
					else_if = { 
						limit = { 
							OR = { 
								owns = 321
								owns = 2750
							}
						}
						limit = { 
							NOT = { 
								exists = CYP
							}
						}
						change_tag = CYP
						hidden_effect = { 
							set_variable = { 
								which = pzs
								which = aaa
							}
							every_province = { 
								limit = { 
									AND = { 
										OR = { 
											is_city = yes
											is_colony = yes
										}
										NOT = { 
											province_id = 5154
										}
									}
								}
								clr_province_flag = TradePost@PREV
							}
							country_event = { 
								id = POP_StartInit.012
							}
							country_event = { 
								id = SYS_Post.002
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 1
			modifier = { 
				num_of_cardinals = 1
				factor = 0
			}
			modifier = { 
				overlord = { 
					piety = 0.60
					religion = catholic
				}
				factor = 0
			}
			modifier = { 
				at_war_with_religious_enemy = yes
				factor = 0
			}
		}
	}
}
