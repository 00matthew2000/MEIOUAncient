namespace = flavor_mlo
namespace = sforza_ascending
namespace = ambrosian_republic
country_event = { 
	id = flavor_mlo.1
	title = flavor_mlo.1.t
	desc = flavor_mlo.1.d
	picture = DEBATE_REPUBLICAN_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	major = yes
	trigger = { 
		tag = MLO
		NOT = { 
			has_country_flag = ambrosian_republic
		}
		government = monarchy
		OR = { 
			is_female = yes
			AND = { 
				has_regency = yes
				has_female_heir = yes
			}
			AND = { 
				has_new_dynasty = yes
				has_regency = no
				has_consort_regency = no
			}
			any_known_country = { 
				succession_claim = ROOT
			}
		}
		OR = { 
			is_lesser_in_union = no
			AND = { 
				is_lesser_in_union = yes
				overlord = { 
					ai = yes
				}
			}
		}
		NOT = { 
			adm_tech = 35
		}
	}
	option = { 
		name = flavor_mlo.1.a
		ai_chance = { 
			factor = 90
		}
		change_government = republic
		add_government_reform = Pol_Mandate1
		add_government_reform = Pol_Stylings1
		add_government_reform = Pol_ExtraPowers1
		add_government_reform = Pol_Assembly2
		add_government_reform = Pol_TermOfOffice5
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 0
					}
				}
			}
			add_government_reform = Pol_Nobility1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 1
					}
				}
			}
			add_government_reform = Pol_Nobility2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 2
					}
				}
			}
			add_government_reform = Pol_Nobility3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 3
					}
				}
			}
			add_government_reform = Pol_Nobility4
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 0
					}
				}
			}
			add_government_reform = Pol_Structure1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 1
					}
				}
			}
			add_government_reform = Pol_Structure2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 2
					}
				}
			}
			add_government_reform = Pol_Structure3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 3
					}
				}
			}
			add_government_reform = Pol_Structure4
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 4
					}
				}
			}
			add_government_reform = Pol_Structure5
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 0
					}
				}
			}
			add_government_reform = Pol_Centralisation1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 1
					}
				}
			}
			add_government_reform = Pol_Centralisation2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 2
					}
				}
			}
			add_government_reform = Pol_Centralisation3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 3
					}
				}
			}
			add_government_reform = Pol_Centralisation4
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 4
					}
				}
			}
			add_government_reform = Pol_Centralisation5
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqt
						value = 0
					}
				}
			}
			add_government_reform = Pol_Autonomy1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqt
						value = 1
					}
				}
			}
			add_government_reform = Pol_Autonomy2
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqu
						value = 0
					}
				}
			}
			add_government_reform = Pol_Provincial1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqu
						value = 1
					}
				}
			}
			add_government_reform = Pol_Provincial2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqu
						value = 2
					}
				}
			}
			add_government_reform = Pol_Provincial3
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 0
					}
				}
			}
			add_government_reform = Pol_Military1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 1
					}
				}
			}
			add_government_reform = Pol_Military2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 2
					}
				}
			}
			add_government_reform = Pol_Military3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 3
					}
				}
			}
			add_government_reform = Pol_Military4
		}
		add_government_reform = Pol_Privileges1
		add_government_reform = Pol_Nobility2
		kill_ruler = yes
		set_ruler_flag = leader_has_been_pushed_out
		add_republican_tradition = 5
		every_country = { 
			limit = { 
				NOT = { 
					tag = MLO
				}
				OR = { 
					government = monarchy
					tag = VEN
					tag = PAP
				}
				OR = { 
					culture_group = low_germanic
					culture_group = high_germanic
					culture_group = latin
					culture_group = langue_d_oil
					culture_group = langue_d_oc
				}
				is_neighbor_of = ROOT
				religion = catholic
				num_of_cities = 5
			}
			add_opinion = { 
				who = ROOT
				modifier = mlo_against_ambrosian
			}
			if = { 
				limit = { 
					government = monarchy
				}
				add_casus_belli = { 
					target = MLO
					type = cb_change_government
					months = 120
				}
			}
		}
		if = { 
			limit = { 
				is_lesser_in_union = yes
			}
			grant_independence = yes
			overlord = { 
				add_casus_belli = { 
					target = MLO
					type = cb_restore_personal_union
					months = 240
				}
			}
		}
		set_country_flag = ambrosian_republic
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdq
					value = -10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdq
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdq
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdq
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdq
						value = 100
					}
				}
				multiply_variable = { 
					which = bdq
					value = 0.001
				}
				multiply_variable = { 
					which = bdq
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = NO_RelationState_-10
			}
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdr
					value = 10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdr
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdr
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdr
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdr
						value = 100
					}
				}
				multiply_variable = { 
					which = bdr
					value = 0.001
				}
				multiply_variable = { 
					which = bdr
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = BG_RelationState_10
			}
		}
		FRA = { 
			country_event = { 
				id = ambrosian_republic.3
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:formed The Ambrosian Republic and rejects Valentina's line:flavor_mlo.1"
	}
	option = { 
		name = flavor_mlo.1.b
		ai_chance = { 
			factor = 5
		}
		hidden_effect = { 
			if = { 
				limit = { 
					NOT = { 
						stability = -2
					}
				}
				set_variable = { 
					which = ahf
					value = 0
				}
			}
			else = { 
				add_stability = -2
			}
		}
		tooltip = { 
			add_stability = -2
		}
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = -10
		}
		add_legitimacy = 25
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdq
					value = 10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdq
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdq
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdq
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdq
						value = 100
					}
				}
				multiply_variable = { 
					which = bdq
					value = 0.001
				}
				multiply_variable = { 
					which = bdq
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = NO_RelationState_10
			}
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdr
					value = -10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdr
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdr
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdr
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdr
						value = 100
					}
				}
				multiply_variable = { 
					which = bdr
					value = 0.001
				}
				multiply_variable = { 
					which = bdr
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = BG_RelationState_-10
			}
		}
		FRA = { 
			country_event = { 
				id = ambrosian_republic.3
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:have not formed The Ambrosian Republic but rejects Valentina:flavor_mlo.1"
	}
	option = { 
		name = flavor_mlo.1.c
		ai_chance = { 
			factor = 5
		}
		trigger = { 
			ORL = { 
				is_subject = yes
				government = monarchy
				vassal_of = FRA
				NOT = { 
					junior_union_with = FRA
				}
			}
		}
		hidden_effect = { 
			if = { 
				limit = { 
					NOT = { 
						stability = -2
					}
				}
				set_variable = { 
					which = ahf
					value = 0
				}
			}
			else = { 
				add_stability = -2
			}
		}
		tooltip = { 
			add_stability = -2
		}
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = -10
		}
		add_legitimacy = 25
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdq
					value = 10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdq
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdq
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdq
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdq
						value = 100
					}
				}
				multiply_variable = { 
					which = bdq
					value = 0.001
				}
				multiply_variable = { 
					which = bdq
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = NO_RelationState_10
			}
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdr
					value = -10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdr
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdr
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdr
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdr
						value = 100
					}
				}
				multiply_variable = { 
					which = bdr
					value = 0.001
				}
				multiply_variable = { 
					which = bdr
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = BG_RelationState_-10
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:have not formed The Ambrosian Republic and Choose Orlean Valentina's line:flavor_mlo.1"
		ORL = { 
			create_union = MLO
		}
	}
	option = { 
		name = flavor_mlo.1.d
		ai_chance = { 
			factor = 5
			modifier = { 
				factor = 5
				alliance_with = FRA
			}
			modifier = { 
				factor = 0
				is_rival = FRA
			}
		}
		trigger = { 
			FRA = { 
				is_subject = no
				government = monarchy
				OR = { 
					dynasty = "de Bourgogne"
					dynasty = "de Navarre"
					dynasty = "de Dreux"
					dynasty = "de Valois-Bourgogne"
					dynasty = "de Valois-Anjou"
					dynasty = "d'Anjou"
					dynasty = "de Montfort"
					dynasty = "de Bourbon"
					dynasty = "de Valois"
					dynasty = "d'Évreux"
					dynasty = "Capet"
				}
			}
		}
		hidden_effect = { 
			if = { 
				limit = { 
					NOT = { 
						stability = -2
					}
				}
				set_variable = { 
					which = ahf
					value = 0
				}
			}
			else = { 
				add_stability = -2
			}
		}
		tooltip = { 
			add_stability = -2
		}
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = -10
		}
		add_legitimacy = 25
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdq
					value = 10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdq
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdq
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdq
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdq
						value = 100
					}
				}
				multiply_variable = { 
					which = bdq
					value = 0.001
				}
				multiply_variable = { 
					which = bdq
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = NO_RelationState_10
			}
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdr
					value = -10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdr
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdr
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdr
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdr
						value = 100
					}
				}
				multiply_variable = { 
					which = bdr
					value = 0.001
				}
				multiply_variable = { 
					which = bdr
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = BG_RelationState_-10
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:have not formed The Ambrosian Republic and Choose French Valentina's line:flavor_mlo.1"
		FRA = { 
			create_union = MLO
		}
	}
}
country_event = { 
	id = flavor_mlo.2
	title = flavor_mlo.2.t
	desc = flavor_mlo.2.d
	picture = DEBATE_REPUBLICAN_eventPicture
	trigger = { 
		tag = MLO
		government = republic
		NOT = { 
			republican_tradition = 50
		}
	}
	mean_time_to_happen = { 
		years = 10
	}
	option = { 
		name = flavor_mlo.2.a
		add_republican_tradition = -20
		hidden_effect = { 
			change_variable = { 
				which = ahf
				value = 600
			}
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = ahf
							value = 1200
						}
					}
				}
				if = { 
					limit = { 
						stability = 3
					}
					set_variable = { 
						which = ahf
						value = 1200
					}
				}
				else = { 
					subtract_variable = { 
						which = ahf
						value = 1200
					}
					add_stability = 1
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						AND = { 
							check_variable = { 
								which = ahf
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						NOT = { 
							stability = -2
						}
					}
					set_variable = { 
						which = ahf
						value = 0
					}
				}
				else = { 
					change_variable = { 
						which = ahf
						value = 1200
					}
					add_stability = -1
				}
			}
			set_variable = { 
				which = ahd
				which = ahf
			}
			divide_variable = { 
				which = ahd
				value = 12
			}
			multiply_variable = { 
				which = ahd
				value = 0.1
			}
			multiply_variable = { 
				which = ahd
				value = 10
			}
			set_variable = { 
				which = lsc
				value = 100
			}
			subtract_variable = { 
				which = lsc
				which = ahd
			}
		}
		custom_tooltip = POP_StabAdd50
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = 2.5
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdq
					value = 10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdq
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdq
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdq
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdq
						value = 100
					}
				}
				multiply_variable = { 
					which = bdq
					value = 0.001
				}
				multiply_variable = { 
					which = bdq
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = NO_RelationState_10
			}
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdr
					value = -10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdr
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdr
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdr
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdr
						value = 100
					}
				}
				multiply_variable = { 
					which = bdr
					value = 0.001
				}
				multiply_variable = { 
					which = bdr
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = BG_RelationState_-10
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:sided with the Guelph:flavor_mlo.1"
	}
	option = { 
		name = flavor_mlo.2.b
		add_republican_tradition = 20
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdq
					value = -10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdq
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdq
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdq
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdq
						value = 100
					}
				}
				multiply_variable = { 
					which = bdq
					value = 0.001
				}
				multiply_variable = { 
					which = bdq
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = NO_RelationState_-10
			}
		}
		if = { 
			limit = { 
				always = yes
			}
			hidden_effect = { 
				change_variable = { 
					which = bdr
					value = 10
				}
				if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = bdr
									value = -100
								}
							}
						}
					}
					set_variable = { 
						which = bdr
						value = -100
					}
				}
				else_if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = bdr
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = bdr
						value = 100
					}
				}
				multiply_variable = { 
					which = bdr
					value = 0.001
				}
				multiply_variable = { 
					which = bdr
					value = 1000
				}
			}
			if = { 
				limit = { 
					always = yes
				}
				custom_tooltip = BG_RelationState_10
			}
		}
		random_list = { 
			30 = { }
			40 = { 
				hidden_effect = { 
					change_variable = { 
						which = ahf
						value = -600
					}
					if = { 
						limit = { 
							AND = { 
								check_variable = { 
									which = ahf
									value = 1200
								}
							}
						}
						if = { 
							limit = { 
								stability = 3
							}
							set_variable = { 
								which = ahf
								value = 1200
							}
						}
						else = { 
							subtract_variable = { 
								which = ahf
								value = 1200
							}
							add_stability = 1
						}
					}
					else_if = { 
						limit = { 
							NOT = { 
								AND = { 
									check_variable = { 
										which = ahf
										value = 0
									}
								}
							}
						}
						if = { 
							limit = { 
								NOT = { 
									stability = -2
								}
							}
							set_variable = { 
								which = ahf
								value = 0
							}
						}
						else = { 
							change_variable = { 
								which = ahf
								value = 1200
							}
							add_stability = -1
						}
					}
					set_variable = { 
						which = ahd
						which = ahf
					}
					divide_variable = { 
						which = ahd
						value = 12
					}
					multiply_variable = { 
						which = ahd
						value = 0.1
					}
					multiply_variable = { 
						which = ahd
						value = 10
					}
					set_variable = { 
						which = lsc
						value = 100
					}
					subtract_variable = { 
						which = lsc
						which = ahd
					}
				}
				custom_tooltip = POP_StabSubtract50
				if = { 
					limit = { 
						is_emperor_of_china = yes
					}
					add_mandate = -2.5
				}
			}
			30 = { 
				hidden_effect = { 
					if = { 
						limit = { 
							NOT = { 
								stability = -2
							}
						}
						set_variable = { 
							which = ahf
							value = 0
						}
					}
					else = { 
						add_stability = -1
					}
				}
				tooltip = { 
					add_stability = -1
				}
				if = { 
					limit = { 
						is_emperor_of_china = yes
					}
					add_mandate = -5
				}
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:sided with the Ghibelline:flavor_mlo.1"
	}
}
country_event = { 
	id = flavor_mlo.3
	title = flavor_mlo.3.t
	desc = flavor_mlo.3.d
	picture = UNIVERSITY_eventPicture
	fire_only_once = yes
	trigger = { 
		owns = 104
		is_at_war = no
		adm_tech = 25
	}
	mean_time_to_happen = { 
		years = 6
	}
	option = { 
		name = flavor_mlo.3.a
		ai_chance = { 
			factor = 95
			modifier = { 
				factor = 0
				is_bankrupt = yes
			}
			modifier = { 
				factor = 0.5
				num_of_loans = 3
			}
		}
		add_treasury = -50
		104 = { 
			change_variable = { 
				which = aan
				value = 25
			}
			if = { 
				limit = { 
					NOT = { 
						AND = { 
							check_variable = { 
								which = aan
								value = 1.0
							}
						}
					}
				}
				set_variable = { 
					which = aan
					value = 1.0
				}
			}
			set_province_flag = POP_ChangedWealth
			change_variable = { 
				which = aam
				value = 25
			}
			if = { 
				limit = { 
					NOT = { 
						AND = { 
							check_variable = { 
								which = aam
								value = 1.0
							}
						}
					}
				}
				set_variable = { 
					which = aam
					value = 1.0
				}
			}
			set_province_flag = POP_ChangedWealth
		}
		104 = { 
			hidden_effect = { 
				change_variable = { 
					which = ata
					value = 5
				}
				change_variable = { 
					which = atb
					value = 5
				}
				if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = ata
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = ata
						value = 100
					}
				}
				else_if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = ata
									value = 0
								}
							}
						}
					}
					set_variable = { 
						which = ata
						value = 0
					}
				}
				set_province_flag = Unrest_Update
			}
			custom_tooltip = POP_CLLoyProv_5
			hidden_effect = { 
				change_variable = { 
					which = asv
					value = 5
				}
				change_variable = { 
					which = asw
					value = 5
				}
				if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = asv
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = asv
						value = 100
					}
				}
				else_if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = asv
									value = 0
								}
							}
						}
					}
					set_variable = { 
						which = asv
						value = 0
					}
				}
				set_province_flag = Unrest_Update
			}
			custom_tooltip = POP_BGLoyProv_5
			owner = { 
				add_country_modifier = { 
					name = "industrious_ruler_gravity"
					duration = 3650
				}
			}
		}
	}
	option = { 
		name = "OPT.NO2"
		ai_chance = { 
			factor = 5
		}
		104 = { 
			hidden_effect = { 
				change_variable = { 
					which = ata
					value = -5
				}
				change_variable = { 
					which = atb
					value = -5
				}
				if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = ata
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = ata
						value = 100
					}
				}
				else_if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = ata
									value = 0
								}
							}
						}
					}
					set_variable = { 
						which = ata
						value = 0
					}
				}
				set_province_flag = Unrest_Update
			}
			custom_tooltip = POP_CLLoyProv_-5
			hidden_effect = { 
				change_variable = { 
					which = asv
					value = -5
				}
				change_variable = { 
					which = asw
					value = -5
				}
				if = { 
					limit = { 
						AND = { 
							check_variable = { 
								which = asv
								value = 100.001
							}
						}
					}
					set_variable = { 
						which = asv
						value = 100
					}
				}
				else_if = { 
					limit = { 
						NOT = { 
							AND = { 
								check_variable = { 
									which = asv
									value = 0
								}
							}
						}
					}
					set_variable = { 
						which = asv
						value = 0
					}
				}
				set_province_flag = Unrest_Update
			}
			custom_tooltip = POP_BGLoyProv_-5
		}
	}
}
country_event = { 
	id = flavor_mlo.4
	title = flavor_mlo.4.t
	desc = flavor_mlo.4.d
	picture = DIPLOMACY_eventPicture
	fire_only_once = yes
	major = yes
	trigger = { 
		tag = MLO
		num_of_cities = 5
		dip_tech = 25
		NOT = { 
			dip_tech = 30
		}
		OR = { 
			AND = { 
				NAP = { 
					NOT = { 
						war_with = ROOT
					}
					num_of_cities = 5
					ai = yes
				}
				NOT = { 
					exists = KNP
				}
			}
			KNP = { 
				NOT = { 
					war_with = ROOT
				}
				num_of_cities = 5
				ai = yes
			}
		}
		VEN = { 
			NOT = { 
				war_with = ROOT
			}
			num_of_cities = 5
			ai = yes
		}
		OR = { 
			FIR = { 
				NOT = { 
					war_with = ROOT
				}
				num_of_cities = 5
				ai = yes
			}
			AND = { 
				TUS = { 
					NOT = { 
						war_with = ROOT
					}
					num_of_cities = 5
					ai = yes
				}
				NOT = { 
					exists = FIR
				}
			}
		}
	}
	mean_time_to_happen = { 
		months = 12
	}
	option = { 
		name = flavor_mlo.4.a
		log = "FE-MLO:[GetYear]:[Root.GetName]:signed The Treaty of Lodi:flavor_mlo.4"
		add_dip_power = -30
		if = { 
			limit = { 
				exists = NAP
			}
			NAP = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
				add_truce_with = ROOT
			}
		}
		if = { 
			limit = { 
				exists = KNP
			}
			KNP = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
				add_truce_with = ROOT
			}
		}
		if = { 
			limit = { 
				exists = VEN
			}
			VEN = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
				add_truce_with = ROOT
			}
		}
		if = { 
			limit = { 
				exists = TUS
			}
			TUS = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
				add_truce_with = ROOT
			}
		}
		if = { 
			limit = { 
				exists = FIR
			}
			FIR = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
				add_truce_with = ROOT
			}
		}
		every_province = { 
			limit = { 
				superregion = italy_superregion
				is_claim = ROOT
				OR = { 
					country_or_non_sovereign_subject_holds = NAP
					country_or_non_sovereign_subject_holds = KNP
					country_or_non_sovereign_subject_holds = TUS
					country_or_non_sovereign_subject_holds = VEN
					country_or_non_sovereign_subject_holds = FIR
				}
			}
			remove_claim = ROOT
			remove_core = ROOT
		}
		if = { 
			limit = { 
				exists = NAP
			}
			every_province = { 
				limit = { 
					superregion = italy_superregion
					country_or_non_sovereign_subject_holds = ROOT
					is_claim = NAP
				}
				remove_claim = NAP
				remove_core = NAP
			}
		}
		if = { 
			limit = { 
				exists = KNP
			}
			every_province = { 
				limit = { 
					superregion = italy_superregion
					country_or_non_sovereign_subject_holds = ROOT
					is_claim = KNP
				}
				remove_claim = KNP
				remove_core = KNP
			}
		}
		if = { 
			limit = { 
				exists = TUS
			}
			every_province = { 
				limit = { 
					superregion = italy_superregion
					country_or_non_sovereign_subject_holds = ROOT
					is_claim = TUS
				}
				remove_claim = TUS
				remove_core = TUS
			}
		}
		if = { 
			limit = { 
				exists = VEN
			}
			every_province = { 
				limit = { 
					superregion = italy_superregion
					country_or_non_sovereign_subject_holds = ROOT
					is_claim = VEN
				}
				remove_claim = VEN
				remove_core = VEN
			}
		}
		if = { 
			limit = { 
				exists = FIR
			}
			every_province = { 
				limit = { 
					superregion = italy_superregion
					country_or_non_sovereign_subject_holds = ROOT
					is_claim = FIR
				}
				remove_claim = FIR
				remove_core = FIR
			}
		}
		hidden_effect = { 
			NAP = { 
				country_event = { 
					id = flavor_mlo.5
				}
			}
			KNP = { 
				country_event = { 
					id = flavor_mlo.5
				}
			}
			VEN = { 
				country_event = { 
					id = flavor_mlo.5
				}
			}
			TUS = { 
				country_event = { 
					id = flavor_mlo.5
				}
			}
			FIR = { 
				country_event = { 
					id = flavor_mlo.5
				}
			}
		}
		ai_chance = { 
			factor = 90
		}
	}
	option = { 
		name = flavor_mlo.4.b
		add_mil_power = 10
		log = "FE-MLO:[GetYear]:[Root.GetName]:refused The Treaty of Lodi:flavor_mlo.4"
	}
}
country_event = { 
	id = flavor_mlo.5
	title = flavor_mlo.5.t
	desc = flavor_mlo.5.d
	picture = DIPLOMACY_eventPicture
	is_triggered_only = yes
	option = { 
		name = flavor_mlo.5.a
		if = { 
			limit = { 
				exists = NAP
			}
			NAP = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
			}
		}
		if = { 
			limit = { 
				exists = KNP
			}
			KNP = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
			}
		}
		if = { 
			limit = { 
				exists = TUS
			}
			TUS = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
			}
		}
		if = { 
			limit = { 
				exists = FIR
			}
			FIR = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
			}
		}
		if = { 
			limit = { 
				exists = VEN
			}
			VEN = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
			}
		}
		if = { 
			limit = { 
				exists = MLO
			}
			MLO = { 
				add_opinion = { 
					who = ROOT
					modifier = mlo_peace_of_lodi
				}
			}
		}
	}
}
country_event = { 
	id = flavor_mlo.6
	title = flavor_mlo.6.t
	desc = flavor_mlo.6.d
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	major = yes
	trigger = { 
		owns = 116
		is_year = 1490
		NOT = { 
			is_year = 1495
		}
	}
	mean_time_to_happen = { 
		years = 1
	}
	immediate = { 
		set_country_flag = we_have_macchiavelli
	}
	option = { 
		name = flavor_mlo.6.b
		add_adm_power = 25
		define_advisor = { 
			type = statesman_BU
			name = "Niccolo Machiavelli"
			culture = tuscan
			location = 116
			skill = 3
			discount = yes
		}
		hidden_effect = { 
			change_variable = { 
				which = ahf
				value = 600
			}
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = ahf
							value = 1200
						}
					}
				}
				if = { 
					limit = { 
						stability = 3
					}
					set_variable = { 
						which = ahf
						value = 1200
					}
				}
				else = { 
					subtract_variable = { 
						which = ahf
						value = 1200
					}
					add_stability = 1
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						AND = { 
							check_variable = { 
								which = ahf
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						NOT = { 
							stability = -2
						}
					}
					set_variable = { 
						which = ahf
						value = 0
					}
				}
				else = { 
					change_variable = { 
						which = ahf
						value = 1200
					}
					add_stability = -1
				}
			}
			set_variable = { 
				which = ahd
				which = ahf
			}
			divide_variable = { 
				which = ahd
				value = 12
			}
			multiply_variable = { 
				which = ahd
				value = 0.1
			}
			multiply_variable = { 
				which = ahd
				value = 10
			}
			set_variable = { 
				which = lsc
				value = 100
			}
			subtract_variable = { 
				which = lsc
				which = ahd
			}
		}
		custom_tooltip = POP_StabAdd50
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = 2.5
		}
	}
}
country_event = { 
	id = flavor_mlo.7
	title = flavor_mlo.7.t
	desc = flavor_mlo.7.d
	picture = ADVISOR_eventPicture
	fire_only_once = yes
	trigger = { 
		is_year = 1513
		NOT = { 
			is_year = 1520
		}
		has_country_flag = we_have_macchiavelli
	}
	mean_time_to_happen = { 
		years = 1
	}
	option = { 
		name = flavor_mlo.7.a
		add_republican_tradition = 10
		add_legitimacy = 10
		add_prestige = 10
		hidden_effect = { 
			if = { 
				limit = { 
					MLO = { 
						legitimacy = 80
						government = monarchy
						OR = { 
							ADM = 5
							DIP = 5
							MIL = 5
						}
					}
				}
				MLO = { 
					country_event = { 
						id = flavor_mlo.8
						days = 5
						random = 8
					}
				}
			}
		}
	}
}
country_event = { 
	id = flavor_mlo.8
	title = flavor_mlo.8.t
	desc = flavor_mlo.8.d
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	fire_only_once = yes
	option = { 
		name = flavor_mlo.8.a
		add_prestige = 25
		add_dip_power = 50
	}
}
country_event = { 
	id = flavor_mlo.9
	title = flavor_mlo.9.t
	desc = flavor_mlo.9.d
	picture = PAINTER_ARTIST_eventPicture
	fire_only_once = yes
	major = yes
	trigger = { 
		owns = 104
		is_year = 1497
		NOT = { 
			is_year = 1500
		}
		NOT = { 
			has_global_flag = leonardo_da_vinci
		}
	}
	mean_time_to_happen = { 
		years = 1
	}
	immediate = { 
		set_global_flag = leonardo_da_vinci
	}
	option = { 
		name = flavor_mlo.9.a
		define_advisor = { 
			type = artist_BU
			name = "Leonardo da Vinci"
			culture = tuscan
			location = 104
			skill = 3
			discount = yes
		}
		add_dip_power = 50
		add_mil_power = 50
		add_adm_power = 50
	}
}
country_event = { 
	id = flavor_mlo.10
	title = flavor_mlo.10.t
	desc = flavor_mlo.10.d
	picture = COURT_eventPicture
	fire_only_once = yes
	major = yes
	trigger = { 
		owns = 104
		adm_tech = 30
		104 = { 
			OR = { 
				has_province_modifier = PN_Major
				has_province_modifier = PN_Dominant
			}
		}
	}
	mean_time_to_happen = { 
		years = 10
	}
	option = { 
		name = flavor_mlo.10.a
		add_prestige = 10
		104 = { 
			add_province_modifier = { 
				name = "industrious_ruler_gravity"
				duration = 3650
			}
		}
	}
}
country_event = { 
	id = sforza_ascending.001
	title = "sforza_ascending.001.t"
	desc = "sforza_ascending.001.d"
	picture = CONQUEST_eventPicture
	fire_only_once = yes
	major = yes
	trigger = { 
		is_year = 1430
		NOT = { 
			is_year = 1465
		}
		NOT = { 
			has_country_flag = francesco_sforza_in_milan
		}
		tag = MLO
		owns = 104
		num_of_cities = 5
	}
	mean_time_to_happen = { 
		months = 120
	}
	immediate = { 
		set_country_flag = francesco_sforza_in_milan
	}
	option = { 
		name = "sforza_ascending.001.a"
		log = "FE-MLO:[GetYear]:[Root.GetName]:Sforza signed as general:sforza_ascending.001"
		define_general = { 
			name = "Francesco Sforza"
			fire = 4
			shock = 5
			manuever = 5
			siege = 2
		}
	}
}
country_event = { 
	id = sforza_ascending.002
	title = "sforza_ascending.002.t"
	desc = "sforza_ascending.002.d"
	picture = COURT_eventPicture
	fire_only_once = yes
	trigger = { 
		tag = MLO
		government = republic
		NOT = { 
			republican_tradition = 75
		}
		owns = 104
	}
	mean_time_to_happen = { 
		months = 60
	}
	option = { 
		name = "sforza_ascending.002.a"
		log = "FE-MLO:[GetYear]:[Root.GetName]:kept autocratic ruler in power during crisis:sforza_ascending.002"
		add_republican_tradition = -10
		add_prestige = 10
		hidden_effect = { 
			country_event = { 
				id = sforza_ascending.003
				days = 60
			}
		}
		ai_chance = { 
			factor = 90
		}
	}
	option = { 
		name = "sforza_ascending.002.b"
		log = "FE-MLO:[GetYear]:[Root.GetName]:expelled autocratic ruler and held elections during crisis:sforza_ascending.002"
		log = "FE-MLO:[GetYear]:[Root.GetName]:Ghibellines in power:sforza_ascending.002"
		kill_ruler = yes
		add_republican_tradition = 10
		add_prestige = -10
		set_country_flag = ghibellines_in_power
		ai_chance = { 
			factor = 10
		}
	}
}
country_event = { 
	id = sforza_ascending.003
	title = "sforza_ascending.003.t"
	desc = "sforza_ascending.003.d"
	picture = ASSASSINATION_eventPicture
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = "sforza_ascending.003.a"
		log = "FE-MLO:[GetYear]:[Root.GetName]:autocratic ruler killed leaders of The Ghibelline Conspiracy:sforza_ascending.003"
		104 = { 
			spawn_rebels = { 
				type = mob_rebels
				size = 3
				win = yes
			}
		}
		hidden_effect = { 
			if = { 
				limit = { 
					NOT = { 
						stability = -2
					}
				}
				set_variable = { 
					which = ahf
					value = 0
				}
			}
			else = { 
				add_stability = -1
			}
		}
		tooltip = { 
			add_stability = -1
		}
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
		set_country_flag = autocratic_guelph_ruler
		ai_chance = { 
			factor = 25
		}
	}
	option = { 
		name = "sforza_ascending.003.b"
		log = "FE-MLO:[GetYear]:[Root.GetName]:autocratic ruler fled from The Ghibelline Conspiracy:sforza_ascending.003"
		log = "FE-MLO:[GetYear]:[Root.GetName]:Ghibellines in power:sforza_ascending.003"
		add_prestige = -10
		kill_ruler = yes
		set_country_flag = ghibellines_in_power
		ai_chance = { 
			factor = 75
		}
	}
}
country_event = { 
	id = sforza_ascending.004
	title = "sforza_ascending.004.t"
	desc = "sforza_ascending.004.d"
	picture = ANGRY_MOB_eventPicture
	fire_only_once = yes
	trigger = { 
		tag = MLO
		government = republic
		owns = 104
		104 = { 
			controlled_by = REB
		}
		has_country_flag = autocratic_guelph_ruler
	}
	mean_time_to_happen = { 
		days = 90
	}
	option = { 
		name = "sforza_ascending.004.a"
		log = "FE-MLO:[GetYear]:[Root.GetName]:Populace forces Election:sforza_ascending.004"
		log = "FE-MLO:[GetYear]:[Root.GetName]:Ghibellines in power:sforza_ascending.004"
		kill_ruler = yes
		disband_rebels = mob_rebels
		104 = { 
			change_controller = ROOT
		}
		clr_country_flag = autocratic_guelph_ruler
		set_country_flag = ghibellines_in_power
	}
}
country_event = { 
	id = sforza_ascending.005
	title = "sforza_ascending.005.t"
	desc = "sforza_ascending.005.d"
	picture = STREET_SPEECH_eventPicture
	fire_only_once = yes
	major = yes
	trigger = { 
		tag = MLO
		government = republic
		owns = 104
		has_country_flag = ghibellines_in_power
		has_country_flag = francesco_sforza_in_milan
		has_leader = "Francesco Sforza"
	}
	mean_time_to_happen = { 
		months = 12
	}
	option = { 
		name = "sforza_ascending.005.a"
		ai_chance = { 
			factor = 10
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:kept republic and rejected Sforza:sforza_ascending.005"
		hidden_effect = { 
			change_variable = { 
				which = ahf
				value = 600
			}
			if = { 
				limit = { 
					AND = { 
						check_variable = { 
							which = ahf
							value = 1200
						}
					}
				}
				if = { 
					limit = { 
						stability = 3
					}
					set_variable = { 
						which = ahf
						value = 1200
					}
				}
				else = { 
					subtract_variable = { 
						which = ahf
						value = 1200
					}
					add_stability = 1
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						AND = { 
							check_variable = { 
								which = ahf
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						NOT = { 
							stability = -2
						}
					}
					set_variable = { 
						which = ahf
						value = 0
					}
				}
				else = { 
					change_variable = { 
						which = ahf
						value = 1200
					}
					add_stability = -1
				}
			}
			set_variable = { 
				which = ahd
				which = ahf
			}
			divide_variable = { 
				which = ahd
				value = 12
			}
			multiply_variable = { 
				which = ahd
				value = 0.1
			}
			multiply_variable = { 
				which = ahd
				value = 10
			}
			set_variable = { 
				which = lsc
				value = 100
			}
			subtract_variable = { 
				which = lsc
				which = ahd
			}
		}
		custom_tooltip = POP_StabAdd50
		if = { 
			limit = { 
				is_emperor_of_china = yes
			}
			add_mandate = 2.5
		}
		add_republican_tradition = 25
	}
	option = { 
		name = "sforza_ascending.005.b"
		ai_chance = { 
			factor = 90
		}
		change_government = monarchy
		add_government_reform = Pol_Succession1
		if = { 
			limit = { 
				government = monarchy
				has_government_attribute = maintain_dynasty
				OR = { 
					NOT = { 
						religion_group = muslim
					}
					culture_group = tartar_group
					culture_group = old_turkic
					culture_group = altaic
					primary_culture = turkish
					primary_culture = osmanli
				}
				NOT = { 
					religion_group = christian
				}
				NOT = { 
					has_matching_religion = orthodox
				}
				NOT = { 
					has_matching_religion = catholic
				}
				NOT = { 
					culture_group = japanese_g
				}
			}
			add_government_reform = Pol_Family4
		}
		else_if = { 
			limit = { 
				government = monarchy
				has_government_attribute = maintain_dynasty
				religion_group = muslim
				NOT = { 
					culture_group = tartar_group
				}
				NOT = { 
					culture_group = old_turkic
				}
				NOT = { 
					culture_group = altaic
				}
				NOT = { 
					primary_culture = turkish
				}
				NOT = { 
					primary_culture = osmanli
				}
			}
			add_government_reform = Pol_Family3
		}
		else_if = { 
			limit = { 
				government = monarchy
				OR = { 
					has_reform = Pol_Succession2
					religion_group = muslim
				}
				NOT = { 
					primary_culture = turkish
				}
				NOT = { 
					primary_culture = osmanli
				}
			}
			add_government_reform = Pol_Family2
		}
		else_if = { 
			limit = { 
				government = monarchy
				is_tribal = no
			}
			add_government_reform = Pol_Family1
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 0
					}
				}
			}
			add_government_reform = Pol_Nobility1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 1
					}
				}
			}
			add_government_reform = Pol_Nobility2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 2
					}
				}
			}
			add_government_reform = Pol_Nobility3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gri
						value = 3
					}
				}
			}
			add_government_reform = Pol_Nobility4
		}
		add_government_reform = Pol_Assembly2
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 0
					}
				}
			}
			add_government_reform = Pol_Structure1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 1
					}
				}
			}
			add_government_reform = Pol_Structure2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 2
					}
				}
			}
			add_government_reform = Pol_Structure3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 3
					}
				}
			}
			add_government_reform = Pol_Structure4
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqr
						value = 4
					}
				}
			}
			add_government_reform = Pol_Structure5
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 0
					}
				}
			}
			add_government_reform = Pol_Centralisation1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 1
					}
				}
			}
			add_government_reform = Pol_Centralisation2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 2
					}
				}
			}
			add_government_reform = Pol_Centralisation3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 3
					}
				}
			}
			add_government_reform = Pol_Centralisation4
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqs
						value = 4
					}
				}
			}
			add_government_reform = Pol_Centralisation5
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqt
						value = 0
					}
				}
			}
			add_government_reform = Pol_Autonomy1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqt
						value = 1
					}
				}
			}
			add_government_reform = Pol_Autonomy2
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqu
						value = 0
					}
				}
			}
			add_government_reform = Pol_Provincial1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqu
						value = 1
					}
				}
			}
			add_government_reform = Pol_Provincial2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqu
						value = 2
					}
				}
			}
			add_government_reform = Pol_Provincial3
		}
		if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 0
					}
				}
			}
			add_government_reform = Pol_Military1
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 1
					}
				}
			}
			add_government_reform = Pol_Military2
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 2
					}
				}
			}
			add_government_reform = Pol_Military3
		}
		else_if = { 
			limit = { 
				AND = { 
					is_variable_equal = { 
						which = gqv
						value = 3
					}
				}
			}
			add_government_reform = Pol_Military4
		}
		add_government_reform = Pol_Privileges1
		add_government_reform = Pol_Nobility2
		if = { 
			limit = { 
				OR = { 
					has_country_modifier = title_1
					has_country_modifier = title_2
				}
			}
			remove_country_modifier = title_1
			remove_country_modifier = title_2
			remove_country_modifier = title_4
			remove_country_modifier = title_5
			remove_country_modifier = title_6
			add_country_modifier = { 
				name = title_3
				duration = -1
			}
			clr_country_flag = title_1
			clr_country_flag = title_2
			clr_country_flag = title_3
			clr_country_flag = title_4
			clr_country_flag = title_5
			clr_country_flag = title_6
			set_country_flag = title_3
		}
		define_ruler = { 
			name = "Francesco"
			dynasty = "Sforza"
			age = 40
			adm = 6
			dip = 6
			mil = 6
			claim = 70
			attach_leader = "Francesco Sforza"
		}
		define_consort = { 
			name = "Bianca Maria"
			dynasty = "Visconti"
			age = 20
			adm = 5
			dip = 3
			mil = 4
		}
		if = { 
			limit = { 
				is_year = 1444
			}
			define_heir = { 
				name = "Galeazzo Maria"
				dynasty = "Sforza"
				birth_date = 1444.1.24
				adm = 4
				dip = 1
				mil = 3
				claim = 70
			}
		}
		log = "FE-MLO:[GetYear]:[Root.GetName]:selected Sforza as a leader, rejected republic:sforza_ascending.005"
	}
}
country_event = { 
	id = flavor_mlo.100
	title = "flavor_mlo.100.t"
	desc = "flavor_mlo.100.d"
	picture = Valentina_Visconti_Event_Picture
	major = yes
	fire_only_once = yes
	trigger = { 
		tag = MLO
		is_subject = no
		government = monarchy
		dynasty = "Visconti"
	}
	mean_time_to_happen = { 
		months = 50
		modifier = { 
			factor = 0.5
			ai = yes
		}
		modifier = { 
			factor = 0.5
			has_heir = no
		}
		modifier = { 
			factor = 0.5
			is_female = yes
		}
		modifier = { 
			factor = 0.5
			has_female_heir = yes
		}
	}
	option = { 
		name = flavor_mlo.100.a
		ai_chance = { 
			factor = 90
		}
		trigger = { 
			ORL = { 
				is_subject = yes
				government = monarchy
				vassal_of = FRA
				NOT = { 
					junior_union_with = FRA
				}
			}
		}
		add_stability = 1
		ORL = { 
			hidden_effect = { 
				country_event = { 
					id = flavor_mlo.101
					days = 1
				}
			}
		}
	}
	option = { 
		name = flavor_mlo.100.b
		ai_chance = { 
			factor = 90
			modifier = { 
				factor = 0
				exists = ORL
			}
		}
		trigger = { 
			FRA = { 
				is_subject = no
				government = monarchy
				OR = { 
					dynasty = "de Bourgogne"
					dynasty = "de Navarre"
					dynasty = "de Dreux"
					dynasty = "de Valois-Bourgogne"
					dynasty = "de Valois-Anjou"
					dynasty = "d'Anjou"
					dynasty = "de Montfort"
					dynasty = "de Bourbon"
					dynasty = "de Valois"
					dynasty = "d'Évreux"
					dynasty = "Capet"
				}
			}
		}
		add_stability = 1
		FRA = { 
			hidden_effect = { 
				country_event = { 
					id = flavor_mlo.101
					days = 1
				}
			}
		}
	}
	option = { 
		name = flavor_mlo.100.c
		trigger = { 
			emperor = { 
				government = monarchy
				dip = 5
			}
		}
		ai_chance = { 
			factor = 5
		}
		add_stability = 1
		emperor = { 
			hidden_effect = { 
				country_event = { 
					id = flavor_mlo.101
					days = 1
				}
			}
		}
	}
	option = { 
		name = flavor_mlo.100.d
		ai_chance = { 
			factor = 5
		}
		add_stability = 1
	}
}
country_event = { 
	id = flavor_mlo.101
	title = flavor_mlo.101.t
	desc = flavor_mlo.101.d
	picture = Valentina_Visconti_Event_Picture
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = flavor_mlo.101.a
		add_legitimacy = 5
		add_prestige = 5
		set_country_flag = valentina_visconti
	}
}
country_event = { 
	id = ambrosian_republic.3
	title = ambrosian_republic.2.t
	desc = ambrosian_republic.3.d
	picture = { 
		trigger = { 
			has_dlc = "Emperor"
		}
		picture = ITALIAN_wars_eventPicture
	}
	picture = { 
		trigger = { 
			NOT = { 
				has_dlc = "Emperor"
			}
		}
		picture = DEBATE_REPUBLICAN_eventPicture
	}
	fire_only_once = yes
	is_triggered_only = yes
	option = { 
		name = ambrosian_republic.3.a
		ai_chance = { 
			factor = 75
		}
		add_casus_belli = { 
			type = cb_restore_personal_union
			months = 300
			target = MLO
		}
	}
	option = { 
		name = ambrosian_republic.3.b
		ai_chance = { 
			factor = 25
		}
		add_prestige = 5
	}
}
